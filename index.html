<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Provider – Add Service</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      background: #f8fafc;
      font-family: 'Poppins', sans-serif;
      color: #2e3a49;
    }
    .container {
      max-width: 700px;
      margin: 40px auto;
      padding: 0;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(110, 211, 180, .11);
      background: #fff;
      animation: fadeIn 0.8s;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .steps-bar { display: flex; justify-content: space-between; align-items: center; padding: 28px 50px 0; }
    .step-item { text-align: center; position: relative; flex: 1; }
    .step-icon { background: linear-gradient(135deg,#06b981,#047857); color: #fff; font-size: 1.5rem; border-radius: 50%; width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; margin: 0 auto 6px auto; box-shadow: 0 2px 10px rgba(27,252,6,0.09); border: 2px solid #def7ec; }
    .step-item.active .step-icon, .step-item.done .step-icon { border: 2.5px solid #10b981; background: linear-gradient(135deg,#10b981,#059669); }
    .step-title { font-size: .97rem; color: #10b981; font-weight: 600;}
    .form-section { padding: 40px 50px 35px; min-height: 355px;}
    .cat-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 18px; margin-bottom: 30px; }
    .category-card { background: linear-gradient(135deg, #e8fff6, #f0fdfa); border-radius: 14px; border: 2px solid #e2e8f0; text-align: center; cursor: pointer; transition: transform .2s, box-shadow .2s; padding: 18px 5px 10px;}
    .category-card.selected, .category-card:hover { border: 2px solid #10b981; box-shadow: 0 5px 14px rgba(24,185,129,.11); transform: translateY(-3px) scale(1.035);}
    .category-icon { font-size: 2.2rem; margin-bottom: 6px; color: #10b981;}
    .category-title { font-size: 1.01rem; font-weight: 600;}
    /* Chip style for multi-select subcategory/skills */
    .chip-list { display:flex; flex-wrap:wrap; gap:10px; margin:16px 0 20px;}
    .chip { display: flex; align-items:center; gap:8px; background: #e4fbf0; color: #059669; border-radius:22px; padding: 6px 15px; font-size:.95rem; cursor:pointer; border:2px solid #cbf2e1; font-weight:500;}
    .chip.selected { background:#10b981; color:#fff; }
    /* Card input UI */
    .input-card { background: #f6fdfe; border-radius: 14px; padding: 18px 20px 13px 17px; margin-bottom: 18px; border:1.5px solid #e0e8ec; box-shadow: 0 1px 7px rgba(27,252,6,0.06);}
    .input-card label { font-weight: 500; color: #066e4e; display:block; margin-bottom:7px;}
    .input-card input, .input-card textarea { width:100%; border-radius:10px; border:1px solid #d1fae5; padding:8px 12px; margin-bottom:6px; }
    .input-card input[type='file'] { padding:4px;}
    .skill-cards {display:flex;flex-wrap:wrap;gap:10px;}
    .skill-card {background:#f0fdf4;border-radius:11px;padding:8px 13px;cursor:pointer;border:2px solid #e0f2eb;display:flex;align-items:center;gap:7px;transition:.2s;}
    .skill-card.selected { border-color:#10b981; background: #defcf3;}
    .skill-card .fa {color:#10b981;font-size:1.2rem;}
    .form-nav-btn {padding:10px 25px;border-radius:20px;font-weight:600;border:none;background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-size:1.13rem;cursor:pointer;margin-right:8px;}
    .form-nav-btn[disabled] {opacity:.4;}
    /* Preview Card */
    .preview-card {padding:24px 19px; background:linear-gradient(135deg,#e0f7ec,#f8f7fd,#e8fdf5 120%); border-radius:18px; border:2.5px solid #dcfce7;}
    /* Animations etc */
    @media (max-width:600px){ .container{padding:0 2px;} .steps-bar{padding:15px 3px 0;} .form-section{padding:18px 6px 11px;} .cat-grid{grid-template-columns:repeat(2,1fr);} }
  </style>
</head>
<body>
<div class="container">
  <!-- Steps bar -->
  <div class="steps-bar">
    <div class="step-item active" id="stepItem1">
      <div class="step-icon"><i class="fa fa-th-large"></i></div>
      <div class="step-title">कैटेगरी चुनें</div>
    </div>
    <div class="step-item" id="stepItem2">
      <div class="step-icon"><i class="fa fa-cogs"></i></div>
      <div class="step-title">डिटेल्स भरें</div>
    </div>
    <div class="step-item" id="stepItem3">
      <div class="step-icon"><i class="fa fa-eye"></i></div>
      <div class="step-title">प्रीव्यू</div>
    </div>
  </div>
  <!-- STEP 1 -->
  <form id="multiStepForm">
  <div class="form-section" id="step1">
    <h3>अपनी सर्विस की कैटेगरी चुनें</h3>
    <div class="cat-grid">
      <!-- Dynamically categories, icons -->
      <div class="category-card" data-id="1"><div class="category-icon"><i class="fa fa-tools"></i></div><div class="category-title">Appliance<br>Repair</div></div>
      <div class="category-card" data-id="2"><div class="category-icon"><i class="fa fa-home"></i></div><div class="category-title">Home<br>Services</div></div>
      <div class="category-card" data-id="3"><div class="category-icon"><i class="fa fa-hard-hat"></i></div><div class="category-title">Construction</div></div>
      <!-- More... use from your mapping -->
    </div>
    <div>
      <div style="margin:16px 0 3px;color:#059669;font-weight:600;">Subcategory चुनें (Multiple)</div>
      <div class="chip-list" id="subcategoryList"> <!-- Chips JS se fill --> </div>
    </div>
    <button type="button" class="form-nav-btn" onclick="gotoStep2()" disabled id="step1Next">आगे जाएं</button>
  </div>
  <!-- STEP 2 -->
  <div class="form-section" id="step2" style="display:none;">
    <h3>सर्विस डिटेल्स एवं स्किल जोड़ें</h3>
    <div class="input-card"><label>Service Name *</label><input id="serviceTitle" required></div>
    <div class="input-card">
      <label>Skills/Service (Multiple)</label>
      <div class="skill-cards" id="skillMultiSelect"> <!-- Skills as cards --> </div>
    </div>
    <div class="input-card"><label>Service Description</label><textarea id="serviceDesc" rows="2"></textarea></div>
    <div class="input-card"><label>Duration (min)</label><input type="number" id="duration"></div>
    <div class="input-card"><label>Start at Price (₹)</label><input type="number" id="startPrice" min="1"></div>
    <div class="input-card"><label>Discount (%)</label><input type="number" id="discount"></div>
    <div class="input-card"><label>सेवा की फोटो अपलोड करें</label><input type="file" id="serviceImg" accept="image/*"></div>
    <button type="button" class="form-nav-btn" onclick="gotoStep1()">पीछे</button>
    <button type="button" class="form-nav-btn" onclick="gotoStep3()" id="step2Next" disabled>अगला</button>
  </div>
  <!-- STEP 3 -->
  <div class="form-section" id="step3" style="display:none;">
    <h3>प्रीव्यू</h3>
    <div class="preview-card" id="previewBox">
      <!-- Live preview JS se -->
    </div>
    <button type="button" class="form-nav-btn" onclick="gotoStep2()">पीछे</button>
    <button type="submit" class="form-nav-btn" style="background:linear-gradient(135deg,#14b47b,#058469);">Add Service</button>
  </div>
  </form>
</div>
<script>
  // Category/Subcategory/Skill mock-mapping
  const mapping = {
    1: { name:"Appliance Repair",subs:["AC Repair","Fridge","Microwave"],skills:{
      "AC Repair": ["AC Installation","AC Service","AC Repair"],
      "Fridge": ["Gas Refill","Repair","Service"],
      "Microwave": ["Repair","Service"]
    }},
    2: { name:"Home Services",subs:["Plumbing","Electrical"],skills: {
      "Plumbing": ["Bath Fittings","Tap Repair","Toilet"],
      "Electrical": ["Switch","Fan","Light"]
    }},
    3: { name:"Construction",subs:["Bricks","Tiles"],skills: {
      "Bricks": ["Red Bricks","Fly Ash Bricks"],
      "Tiles": ["Tile Install","Polish"]
    }}
    // etc. full mapping use from your file
  };
  let currentCat = 1, selectedSubs = [], selectedSkills = [];
  document.querySelectorAll('.category-card').forEach(el=>{
    el.onclick=()=>{
      document.querySelectorAll('.category-card').forEach(c=>c.classList.remove('selected'));
      el.classList.add('selected');
      currentCat = parseInt(el.dataset.id); selectedSubs=[];selectedSkills=[];
      // Fill subcategories
      let subs = mapping[currentCat].subs;
      let list = document.getElementById('subcategoryList');
      list.innerHTML="";
      subs.forEach(sub=>{
        let chip=document.createElement('div');
        chip.className="chip";
        chip.innerText=sub;
        chip.onclick=()=>{
          chip.classList.toggle('selected');
          if(chip.classList.contains('selected')) selectedSubs.push(sub);
          else selectedSubs=selectedSubs.filter(s=>s!==sub);
          enableStep1Next();
        };
        list.appendChild(chip);
      });
      enableStep1Next();
      // Empty skills on category switch
      document.getElementById('skillMultiSelect').innerHTML="";
    }
  });

  function enableStep1Next(){
    document.getElementById('step1Next').disabled = selectedSubs.length==0;
  }
  function gotoStep2(){ // Validate selection
    document.getElementById('step1').style.display='none';
    document.getElementById('step2').style.display='block';
    document.getElementById('step3').style.display='none';
    document.getElementById('stepItem1').classList.remove('active');
    document.getElementById('stepItem1').classList.add('done');
    document.getElementById('stepItem2').classList.add('active');
    // Fill skills
    let skillSel=document.getElementById('skillMultiSelect');
    skillSel.innerHTML="";
    selectedSkills=[];
    selectedSubs.forEach(sub=>{
      let group=document.createElement('div');
      group.innerHTML=`<div style="font-size:.95rem;color:#055f50;font-weight:700;margin:0 0 5px">${sub}</div>`;
      mapping[currentCat].skills[sub].forEach(skill=>{
        let card=document.createElement('div');
        card.className="skill-card";
        card.innerHTML=`<i class="fa fa-cog"></i>${skill}`;
        card.onclick=()=>{card.classList.toggle('selected');
          if(card.classList.contains('selected')) selectedSkills.push(skill);
          else selectedSkills=selectedSkills.filter(s=>s!==skill);
          document.getElementById('step2Next').disabled = selectedSkills.length==0;
        };
        group.appendChild(card); });
      skillSel.appendChild(group);
    });
    document.getElementById('step2Next').disabled=true;
  }
  function gotoStep1(){
    document.getElementById('step1').style.display='block';
    document.getElementById('step2').style.display='none';
    document.getElementById('step3').style.display='none';
    document.getElementById('stepItem2').classList.remove('active');
    document.getElementById('stepItem1').classList.add('active');
  }
  function gotoStep3(){
    document.getElementById('step1').style.display='none';
    document.getElementById('step2').style.display='none';
    document.getElementById('step3').style.display='block';
    document.getElementById('stepItem2').classList.remove('active');
    document.getElementById('stepItem2').classList.add('done');
    document.getElementById('stepItem3').classList.add('active');
    // Fill preview
    let box = document.getElementById('previewBox');
    box.innerHTML = `
    <b>कैटेगरी:</b> ${mapping[currentCat].name} <br>
    <b>सबकैटेगरी:</b> ${selectedSubs.join(', ')} <br>
    <b>स्किल:</b> ${selectedSkills.join(', ')} <br>
    <b>नाम:</b> ${document.getElementById('serviceTitle').value}<br>
    <b>डिटेल:</b> ${document.getElementById('serviceDesc').value}<br>
    <b>Duration:</b> ${document.getElementById('duration').value} min<br>
    <b>Price:</b> ₹${document.getElementById('startPrice').value} <br>
    <b>Discount:</b> ${document.getElementById('discount').value}%<br>
    `;
  }
  document.getElementById('multiStepForm').onsubmit = function(e){
    e.preventDefault();
    alert('Service Successfully Added!');
  };
</script>
</body>
</html>
